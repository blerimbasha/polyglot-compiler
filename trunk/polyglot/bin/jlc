#!/bin/sh
. defs

while true; do
    case "$1" in
        "") break;;
        -v) verbose="1"; shift;;
        -classpath) shift; extra_cp=$1; shift;;
        *) args="$args $1"; shift;;
    esac
done

if [ -n "$extra_cp" ]
then
    extra_cp="${FILE_SEP}${extra_cp}"
fi

classpath="${TOP}${FILE_SEP}classes${PATH_SEP}${TOP}${FILE_SEP}java_cup.jar${PATH_SEP}.${extra_cp}"
command="$JAVA -classpath $classpath jltools.main.Main $args"

if [ -n "$verbose" ]
then
  echo "$command"
fi

$command
